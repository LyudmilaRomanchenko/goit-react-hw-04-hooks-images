(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2B9VW",Modal:"Modal_Modal__2WS9y"}},13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3xVd6",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1lgAK"}},15:function(e,t,a){e.exports={Button:"Button_Button__17_fV"}},16:function(e,t,a){e.exports={Loader:"Spinner_Loader__3AxMC"}},22:function(e,t,a){},23:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2G0r7",SearchForm:"Searchbar_SearchForm__193de",SearchFormButton:"Searchbar_SearchFormButton__24As-",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3WLtN",SearchFormInput:"Searchbar_SearchFormInput__1G-Dw",SearchFormIput:"Searchbar_SearchFormIput__20Xx8"}},47:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(6),c=a.n(o),l=(a(22),a(12)),i=a(3),s=(a(23),a(1)),u=a.n(s),m=a(4),d=a.n(m),b=a(2);function h(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(i.a)(a,2),o=n[0],c=n[1];return Object(b.jsx)("header",{className:d.a.Searchbar,children:Object(b.jsxs)("form",{className:d.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?t(o):console.log("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")},children:[Object(b.jsx)("button",{type:"submit",className:d.a.SearchFormButton,children:Object(b.jsx)("span",{className:d.a.SearchFormButtonLabel,children:"Search"})}),Object(b.jsx)("input",{className:d.a.SearchFormInput,type:"text",name:"search",value:o,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){c(e.currentTarget.value.toLowerCase())}})]})})}var g=h;h.prototype={onSubmit:u.a.func.isRequired};var j=a(9),p=a.n(j),f=a(13),O=a.n(f);function I(e){var t=e.webformatURL,a=e.largeImageURL,r=e.onClick;return Object(b.jsx)("img",{src:t,alt:a,className:O.a.ImageGalleryItemImage,onClick:r})}I.prototype={webformatURL:u.a.string.isRequired,largeImageURL:u.a.string.isRequired,onClick:u.a.func.isRequired};var _=I;function S(e){var t=e.data,a=e.handleClickImg;return console.log(t),Object(b.jsx)("div",{children:Object(b.jsx)("ul",{className:p.a.ImageGallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,n=e.largeImageURL;return Object(b.jsx)("li",{className:p.a.ImageGalleryItem,children:Object(b.jsx)(_,{webformatURL:r,largeImageURL:n,onClick:a})},t)}))})})}S.prototype={data:u.a.arrayOf(u.a.shape({id:u.a.number.isRequired,webformatURL:u.a.string.isRequired,largeImageURL:u.a.string.isRequired}).isRequired),handleClickImg:u.a.func.isRequired};var y=S,v=a(10),x=a.n(v),L=document.querySelector("#modal-root");function w(e){var t=e.largeImg,a=e.onClick,n=function(e){"Escape"===e.code&&(console.log("\u041d\u0430\u0436\u0430\u043b\u0438 Escape"),a())};return Object(r.useEffect)((function(){window.addEventListener("keydown",n)}),[]),window.removeEventListener("keydown",n),Object(o.createPortal)(Object(b.jsx)("div",{className:x.a.Overlay,onClick:function(e){e.currentTarget===e.target&&(console.log("\u041d\u0430\u0436\u0430\u043b\u0438 Backdrop"),a())},children:Object(b.jsx)("div",{className:x.a.Modal,children:Object(b.jsx)("img",{src:t,alt:""})})}),L)}var R=w;w.prototype={largeImg:u.a.string.isRequired,onClick:u.a.func.isRequired};var k=a(11),B=a.n(k),F=a(14),G="23052937-32fb9bd6f4b84b12682be3748",C="https://pixabay.com/api";function q(){return(q=Object(F.a)(B.a.mark((function e(t,a){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(C,"/?q=").concat(t,"&page=").concat(a,"&key=").concat(G,"&image_type=photo&orientation=horizontal&per_page=12"),e.next=3,fetch(r);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N={fetchApi:function(e,t){return q.apply(this,arguments)}},U=N,M=a(15),E=a.n(M);function A(e){var t=e.handleButtonLoadMore;return Object(b.jsx)("button",{type:"button",className:E.a.Button,onClick:t,children:"Load more"})}A.prototype={handleButtonLoadMore:u.a.func.isRequired};var T=A,J=a(16),V=a.n(J),W=(a(28),a(17)),D=a.n(W);var H=function(){return Object(b.jsx)(D.a,{className:V.a.Loader,type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})};var K=function(){var e=Object(r.useState)(1),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(""),c=Object(i.a)(o,2),s=c[0],u=c[1],m=Object(r.useState)([]),d=Object(i.a)(m,2),h=d[0],j=d[1],p=Object(r.useState)(!1),f=Object(i.a)(p,2),O=f[0],I=f[1],_=Object(r.useState)(""),S=Object(i.a)(_,2),v=S[0],x=S[1],L=Object(r.useState)("idle"),w=Object(i.a)(L,2),k=w[0],B=w[1],F=Object(r.useState)(null),G=Object(i.a)(F,2),C=G[0],q=G[1];return console.log(C),Object(r.useEffect)((function(){""!==s&&(console.log(s),B("pending"),U.fetchApi(s,a).then((function(e){var t=e.hits;j([].concat(Object(l.a)(h),Object(l.a)(t.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}})))))})).catch((function(e){return q(e)})).finally((function(){return B("resolved")})))}),[s,a]),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(g,{onSubmit:function(e){n(1),j([]),I(!1),B("idle"),u(e)}}),"idle"===k&&Object(b.jsx)("h2",{children:"Enter your request."}),h.length>0&&Object(b.jsx)(y,{data:h,handleClickImg:function(e){var t=e.currentTarget.alt;console.log(t),I(!0),x(t),console.log(v),console.log("Modal")}}),h.length>=12&&"resolved"===k&&Object(b.jsx)(T,{handleButtonLoadMore:function(){console.log("\u041a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u043e\u043b\u0448\u0435"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),n((function(e){return e+1}))}}),O&&Object(b.jsx)(R,{largeImg:v,onClick:function(){I(!O)}}),"pending"===k&&Object(b.jsx)(H,{})]})};c.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(K,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__K_QwB",ImageGalleryItem:"ImageGallery_ImageGalleryItem__2Jixn"}}},[[47,1,2]]]);
//# sourceMappingURL=main.1072dca0.chunk.js.map